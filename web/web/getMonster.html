<!DOCTYPE html>
<html>
<head>
    <title>Monster Info</title>
</head>
<body>
<h2>Monster Info</h2>
<p id="name">Name: </p>
<p id="danger">Danger Level: </p>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get('id');

    fetch(`/getMonster?id=${id}`)
        .then(async response => {
            if (!response.ok) {
                const text = await response.text();
                throw new Error(`HTTP error ${response.status}: ${text}`);
            }
            return response.json();
        })
        .then(data => {
            document.getElementById('name').textContent = `Name: ${data.name}`;
            document.getElementById('danger').textContent = `Danger Level: ${data.danger}`;
        })
        .catch(error => {
            document.body.innerHTML += `<p style="color:red;">Error: ${error.message}</p>`;
            console.error('Error:', error);
        });
</script>

</body>
</html>
